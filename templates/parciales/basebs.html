<!DOCTYPE html>
<html lang="en">
<head>
    <img src="/static/images/ajax-document-loader.gif" STYLE="display: none"/>
    <meta charset="utf-8">
    <title>{% block pagetitle %}{{ title }}{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script type='text/javascript' src="/static/js/jquery.min.js?v=1.0.6"></script>
    <script type='text/javascript' src="/static/js/jquery.blockUI.js?v=1.0.6"></script>
    <script type='text/javascript' src="/static/js/jquery.maskedinput.min.js?v=1.0.6"></script>
    <script type='text/javascript' src="/static/js/sysend.js?v=1.0.6"></script>

    <script type="text/javascript" src="/static/js/smoke.js?v=1.0.6"></script>
    <script type="text/javascript" src="/static/js/bs/bootstrap.min.js?v=1.0.6"></script>
    <script type="text/javascript" src="/static/js/bootstrap-datepicker.js?v=1.0.6"></script>
    <script type="text/javascript" src="/static/js/bootstrap-timepicker.js?v=1.0.6"></script>
    <script type="text/javascript" src="/static/js/bootstrap-modal.js?v=1.0.6"></script>
    <script type="text/javascript" src="/static/js/bootstrap-modalmanager.js?v=1.0.6"></script>
    <script type="text/javascript" src="/static/js/big.min.js?v=1.0.6"></script>
    <script type='text/javascript' src='/static/js/jquery.flexbox.js?v=1.0.6'></script>
    <script type='text/javascript' src='/static/js/dragdivscroll.js?v=1.0.6'></script>
    <script type="text/javascript" src="/static/js/jquery.date_input.js?v=1.0.6"></script>
    <script type='text/javascript' src="/static/js/jquery.timeentry.js?v=1.0.6"></script>
    <script type="text/javascript" src='/static/js/select2.js?v=1.0.6' ></script>
    <script type="text/javascript" src='/static/js/jquery.validationEngine-es.js?v=1.0.6' ></script>
    <script type="text/javascript" src='/static/js/jquery.validationEngine.js?v=1.0.6' ></script>
    <script type="text/javascript" src='/static/js/bootstrap-filestyle.min.js?v=1.0.6' ></script>
    <script type="text/javascript" src='/static/libpdfjs/pdf.min.js' ></script>

    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.0.943/pdf.min.js"></script>-->
    <script type="text/javascript" src='/static/libpdfjs/pdf.min.js' ></script>

    <link href="/static/css/jquery.timeentry.css?v=1.0.6" type='text/css' rel='stylesheet' />
    <link href="/static/css/date_input.css?v=1.0.6" type='text/css' rel='stylesheet' />
    <link href="/static/css/smoke.css?v=1.0.6" rel="stylesheet" type="text/css" media="screen" />
    <link href="/static/css/bootstrap.min.css?v=1.0.6" rel="stylesheet"/>
    <link href="/static/css/bootstrap-responsive.css?v=1.0.6" rel="stylesheet"/>
    <link href='/static/css/font-awesome.css?v=1.0.6' rel='stylesheet'/>
    <link href="/static/css/styles.css?v=1.0.6" rel='stylesheet'/>
    <link href="/static/css/stylesbs.css?v=1.0.6" rel='stylesheet'/>
    <link href="/static/css/datepicker.css?v=1.0.6" rel='stylesheet'/>
    <link href="/static/css/bootstrap-timepicker.css?v=1.0.6" rel='stylesheet'/>
    <link href="/static/css/bootstrap-modal.css?v=1.0.6" rel='stylesheet'/>
    <link href="/static/css/jquery.flexbox.css?v=1.0.6" type="text/css" rel="stylesheet" />
    <link type='text/css' rel='stylesheet' href="/static/css/select2.css?v=1.0.6"/>

    <!--[if lt IE 9]>
          <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

    <link rel="shortcut icon" href="/static/images/aok/favicon.ico?v=1.0.6">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109814288-1"></script>

    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-109814288-1');
    </script>F
    <script>
        var modalposition = 0;
        var mensaje = '';
        var sessionid = null;
        var chequearsesion = null;
        var logouttimer = null;
        var tikets = null;
        var url_home = true;

        $(function() {
            if(!('contains' in String.prototype)) {
                String.prototype.contains = function(str, startIndex) {
                    return -1 !== String.prototype.indexOf.call(this, str, startIndex);
                };
            }

            $("*").focusin(function(){
                $('.datepicker').css({"display": "none"});
            });

            showWaiting = function(titulo, mensaje, close) {
                var panel = $("#waitpanel");
                $("#waitpaneltitle").html(titulo);
                $("#waitpanelbody").html(mensaje);
                if (!close) {
                    panel.modal({keyboard: false, backdrop: 'static'});
                }
                panel.modal("show");
            };

            hideWaiting = function() {
                $("#waitpanel").modal("hide");
            };

            sinurlatrasbutton = function(){
                if (location.pathname === '/'){
                    $("#urlatrasbutton").remove();
                }
            };

            deshabilitar = function(nombre) {
                $(nombre).attr({"disabled": "disabled"});
            };

            habilitar = function(nombre) {
                $(nombre).removeAttr("disabled").removeAttr("readonly");
            };

            numerico = function(elemento, min, max, decimales) {
                var nvalor;
                var valor = elemento.val().trim();
                if (valor.length === 0){
                    valor = parseFloat(min).toFixed(decimales);
                    elemento.val(valor);
                } else if (isNaN(valor)){
                    nvalor = parseFloat(min).toFixed(decimales);
                    elemento.val(nvalor);
                } else if (parseFloat(valor) < min) {
                    nvalor = parseFloat(min).toFixed(decimales);
                    elemento.val(nvalor);
                } else if (max > 0 && parseFloat(valor) > max){
                    nvalor = parseFloat(max).toFixed(decimales);
                    elemento.val(nvalor);
                } else {
                    nvalor = parseFloat(valor).toFixed(decimales);
                    elemento.val(nvalor);
                }
            };

            validate_email = function (email) {
                var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                return re.test(String(email).toLowerCase());
            };

            replaceAll = function (str, find, replace) {
                return str.replace(new RegExp(find, 'g'), replace);
            };

            validacionesnumericas = function() {
                $(".validarnumero").blur(function(){
                    numerico($(this), 0, 0, 0);
                });

                $(".validarmoneda").blur(function(){
                    numerico($(this), 0, 0, 2);
                });
            };

            radionbuttonselectedvalueset = function(name, SelectdValue) {
                $('input[name="' + name+ '"][value="' + SelectdValue + '"]').prop('checked', true);
            };

            sinurlatrasbutton();

            $("#infomodaldinamico_cancel").click(function(){
                $("#infomodaldinamico").modal("hide");
            });

            {% if chequear_correo %}
                chequearemial = function(){
                    $.ajax({
                        type: "POST",
                        url: "/api",
                        data: {'a': 'checkmail'},
                        success: function(data) {
                            if (data.result === 'ok') {
                                if (data.mensajes){
                                    $("#checkmailicon").removeClass("hidden").show();
                                } else {
                                    $("#checkmailicon").addClass("hidden").hide();
                                }
                            }
                        },
                        dataType: "json"
                    });
                };

                setInterval(chequearemial,60000);
            {% endif %}

            function sleep_function ( sleepDuration, prototipe ){
                setTimeout(function() { prototipe(); }, sleepDuration);
            }

            function sleep ( sleepDuration ){
                var now = new Date().getTime();
                while(new Date().getTime() < now + sleepDuration){ /* do nothing */ }
            }

            bloqueointerface = function(){
                try {
                    if ($('.blockOverlay').length === 0){
                        $.blockUI({message: '<img width="35" src="/static/images/ajax-document-loader.gif">', css: { 'border': '1px solid', 'border-radius' : '10px', 'left': '45%', 'width':'60px',  'height':'45px',  'padding-top': '12px',  '-webkit-border-radius': '10px', '-moz-border-radius': '10px', 'opacity': '.5', 'color': '#000000' }});
                    }
                } catch (err){
                }
            };

            desbloqueointerface = function(){
                try {
                    if ($('.blockOverlay').length >= 1){
                        $.unblockUI();
                    }
                } catch (err){
                }
            };

            verifica_telefonofijo = function(numerotelefonico) {
                var numero = numerotelefonico.trim();
                if (numero.length > 0){
                    return !!(numero.length === 9 && (numero.startsWith("01") | numero.startsWith("02") | numero.startsWith("03") | numero.startsWith("04") | numero.startsWith("05") | numero.startsWith("06") | numero.startsWith("07") | numero.startsWith("08")));
                }
            };

            verifica_telefonomovil = function(numerotelefonico) {
                var numero = numerotelefonico.trim();
                if (numero.length > 0){
                    return !!(numero.length === 10 && (numero.startsWith("09") || numero.startsWith("08")));
                }
            };

            verifica_correoinstitucional = function(correo) {
                var dominio = '{{ institucion.emaildomain }}';
                if (correo.trim().length > 0){
                    if (correo.trim().endsWith(dominio)){
                        return true;
                    }
                }
                return false;
            };

            verifica_correoprivado = function(correo) {
                var dominio = '{{ institucion.emaildomain }}';
                if (correo.trim().length > 0){
                    if (correo.trim().endsWith(dominio)){
                        return false;
                    }
                }
                return true;
            };

            $(".changeuser").click(function () {
                var id = $(this).attr('idu');
                bloqueointerface();
                $.ajax({
                    type: "POST",
                    url: "/cu",
                    data: {'id': id},
                    success: function(data) {
                        if (data.result === 'ok') {
                            localStorage.removeItem('sessionid');
                            localStorage.setItem('sessionid', data.sessionid);
                            window.name = data.sessionid;
                            chequearsesionid = true;
                            sysend.broadcast('', {message: 'reload', token: data.sessionid});
                            location.href = "/";
                        } else {
                            desbloqueointerface();
                            smoke.alert(data.mensaje);
                        }
                    },
                    error: function() {
                        desbloqueointerface();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "json"
                });
            });

            loginfow = function (varsessionid) {
                if (window.name !== sessionid){
                    bloqueointerface();
                    localStorage.setItem('sessionid', varsessionid);
                    window.name = varsessionid;
                    sysend.broadcast('', {message: 'inicio', token: varsessionid});
                    location.href = '/';
                }
            };

            serverdate=new Date({{ currenttime.year }},{{ currenttime.month }}-1,{{ currenttime.day }}, {{ currenttime.hour }},{{ currenttime.minute }},{{ currenttime.second }},0);
            clientdate=new Date();

            showTime = function(){
                var m;
                var today=new Date();
                var timediff = today - clientdate;
                var renderdate = new Date(serverdate.getTime() + timediff);
                var h=renderdate.getHours();
                var mer = " AM";
                if (h>12) {
                    mer = " PM";
                    h -= 12;
                }
                m=renderdate.getMinutes();
                m=checkTime(m);
                $("#clock").text(h+":"+m+mer);
            };

            checkTime = function(i){
                if (i<10){
                    i="0" + i;
                }
                return i;
            };

            setInterval(showTime,15000);

            showTime();

            {% if persona %}
                $("#chat").click(function () {
                    if ($(this).attr('visible') == 'si'){
                        $(this).attr({'visible': 'no'});
                        $("#chatwindows").hide();
                    } else {
                        $(this).attr({'visible': 'si'});
                        $("#chatwindows").show();
                    }
                });

                chequearsesionfn = function(){
                    $.ajax({
                        type: "POST",
                        url: "/api",
                        data: {'a': 'checksession'},
                        success: function(data) {
                            if (data.result === 'ok') {
                                if (data.nuevasesion){
                                    logoutsimple();
                                } else {
                                    if (!data.soporte){
                                        $("#chat").hide().attr({'visible': 'no'});
                                    } else {
                                        $("#chat").show();
                                    }
                                    if ($("#chat").attr('visible')=='no'){
                                        $("#chatwindows").hide();
                                    }
                                    if (!data.ticket){
                                        $("#chatwindowsmensaje").hide();
                                        $("#chatwindowssolicitud").show();
                                        $("#chatwindowsnumero").hide();
                                    } else if (data.ticket && !data.atendiendo){
                                        $("#chatwindowsmensaje").hide();
                                        $("#chatwindowssolicitud").hide();
                                        $("#chatwindowsnumero").show();
                                        $("#numerosoporte").html(data.numero);
                                    } else if (data.ticket && data.atendiendo){
                                        $("#chatwindowsmensaje").show();
                                        $("#chatwindowssolicitud").hide();
                                        $("#chatwindowsnumero").hide();
                                    }
                                }
                            }
                        },
                        dataType: "json"
                    });
                };

                chequeartickets = function(){
                    $.ajax({
                        type: "POST",
                        url: "/api",
                        data: {'a': 'checkticket'},
                        success: function(data) {
                            if (data.result === 'ok') {
                                $("#numerosoporte").html(data.numero);
                                if (data.activo){
                                    $("#chatwindows").show();
                                    $("#chatwindowsmensaje").show();
                                    $("#chatwindowsnumero").hide();
                                    if (data.nuevo){
                                        $("#chatmessajes").append(data.html);
                                        var div = document.getElementById('chatmessajes');
                                        div.scrollTop = div.scrollHeight - div.clientHeight;
                                    }
                                }
                                if (data.cerrado){

                                }
                            }
                        },
                        dataType: "json"
                    });
                };

                {% if not solicitud_soporte_pendiente %}
                    $("#chatwindowsmensaje").hide();
                    $("#chatwindowssolicitud").show();
                    $("#chatwindowsnumero").hide();
                {% elif solicitud_soporte_pendiente and not solicitud_soporte_pendiente.personalsoporte %}
                    $("#chatwindowsmensaje").hide();
                    $("#chatwindowssolicitud").hide();
                    $("#chatwindowsnumero").show();
                    tikets = setInterval(chequeartickets, 3000);
                    var div = document.getElementById('chatmessajes');
                    div.scrollTop = div.scrollHeight - div.clientHeight;
                {% elif solicitud_soporte_pendiente and solicitud_soporte_pendiente.personalsoporte %}
                    $("#chatwindows").show();
                    $("#chatwindowsmensaje").show();
                    $("#chatwindowssolicitud").hide();
                    $("#chatwindowsnumero").hide();
                    tikets = setInterval(chequeartickets, 3000);
                    var div = document.getElementById('chatmessajes');
                    div.scrollTop = div.scrollHeight - div.clientHeight;
                {% endif %}

                $("#solicitudsoporte").click(function(){
                    var tipo = $("#tiposolicitudchat").val();
                    var descripcion = $("#descripcionsolicitudchat").val().trim();
                    if (descripcion.length == 0){
                        $("#descripcionsolicitudchat").focus();
                    } else {
                        $.ajax({
                            type: "POST",
                            url: "/api",
                            data: {'a': 'openticket', 'tipo': tipo, 'descripcion': descripcion},
                            success: function(data) {
                                if (data.result === 'ok') {
                                    $("#chatmessajes").html('');
                                    $("#chatwindowsmensaje").hide();
                                    $("#chatwindowssolicitud").hide();
                                    $("#chatwindowsnumero").show();
                                    $("#numerosoporte").html(data.numero);
                                    tikets = setInterval(chequeartickets, 3000);
                                } else {
                                    smoke.alrt(data.mensaje);
                                }
                            },
                            dataType: "json"
                        });
                    }
                });

                sendmensajechat = function () {
                    var mensaje = $("#textchatmensaje").val().trim();
                    if (mensaje.length > 0){
                        $.ajax({
                            type: "POST",
                            url: "/api",
                            data: {'a': 'sendmensajeclientsuport', 'mensaje': mensaje},
                            success: function(data) {
                                if (data.result === 'ok') {
                                    $("#textchatmensaje").val('');
                                    $("#chatmessajes").append(data.html);
                                    var div = document.getElementById('chatmessajes');
                                    div.scrollTop = div.scrollHeight - div.clientHeight;
                                }
                            },
                            dataType: "json"
                        });
                    }
                };

                $('#textchatmensaje').keyup(function(e) {
                    if(e.keyCode === 13) {
                        sendmensajechat();
                    }
                });

                $("#sendchatmensaje").click(function(){
                    sendmensajechat();
                });

                $("#cancelarsoporte").click(function(){
                    $.ajax({
                        type: "POST",
                        url: "/api",
                        data: {'a': 'closeticket'},
                        success: function(data) {
                            if (data.result === 'ok') {
                                $("#chatwindowsmensaje").hide();
                                $("#chatwindowssolicitud").show();
                                $("#chatwindowsnumero").hide();
                                clearInterval(tikets);
                            } else {
                                smoke.alrt(data.mensaje);
                            }
                        },
                        dataType: "json"
                    });
                });

                chequearsesion = setInterval(chequearsesionfn,60000);
            {% endif %}

            $('.dropdown-toggle').dropdown();
            $(".collapse").collapse();

            $("#id_email, #id_emailinst, #id_correoinstasoc, #id_correoinst, #id_emailcontactoemergencia, #id_correo").css({'text-transform': 'none'});

            $(".btn-form").click(function(){
                bloqueointerface();
            });

            if (typeof String.prototype.startsWith !== 'function') {
                String.prototype.startsWith = function (str){
                    return this.indexOf(str) === 0;
                };
            }

            if (typeof String.prototype.endsWith !== 'function') {
                String.prototype.endsWith = function (str){
                    return this.slice(-str.length) === str;
                };
            }

            adicionar_lista = function(lista, elemento){
                lista.push(elemento);
            };

            remover_lista = function(lista, elemento){
                for(var i = lista.length - 1; i >= 0; i--) {
                    if(lista[i] === elemento) {
                        lista.splice(i, 1);
                    }
                }
            };

            tooltips = function() {
                $('.tl').tooltip('destroy');
                $('.tr').tooltip('destroy');
                $('.tu').tooltip('destroy');
                $('.tb').tooltip('destroy');
                $(".tl").tooltip({placement:"left"});
                $(".tr").tooltip({placement:"right"});
                $(".tu").tooltip({placement:"top"});
                $(".tb").tooltip({placement:"bottom"});
            };

            conectar_reportes = function(){
                var href = $(this).attr('nhref');
                var tipos = $(this).attr('tipos');
                if (!tipos){
                    tipos = "pdf, xls, csv, doc";
                }
                formato_final = '';
                if(tipos.contains("pdf")){
                    formato_final = '&rt=pdf';
                    $("#formatopdf").removeAttr("hidden");
                }else{
                    $("#formatopdf").attr({"hidden":"hidden"});
                }
                if(tipos.contains("doc")){
                    formato_final = '&rt=docx';
                    $("#formatodoc").removeAttr("hidden");
                }else{
                    $("#formatodoc").attr({"hidden":"hidden"});
                }
                if(tipos.contains("xls")){
                    formato_final = '&rt=xlsx';
                    $("#formatoxls").removeAttr("hidden");
                }else{
                    $("#formatoxls").attr({"hidden":"hidden"});
                }
                if(tipos.contains("csv")){
                    formato_final = '&rt=csv';
                    $("#formatocsv").removeAttr("hidden");
                }else{
                    $("#formatocsv").attr({"hidden":"hidden"});
                }
                var tipo = $("#formatoreporte_formato").find("option:not([hidden]):eq(0)");
                $("#formatoreporte_formato").val(tipo.val()).trigger('change');
                if (tipos.length > 4) {
                    $('#formatoreporte').modal({'width':'400'}).modal('show');
                    $('#formatoreporte_run').attr('nhref', href);
                }else{
                    ejecutar_reporte_directo(href + formato_final);
                }
                tooltips();
            };

            $('#formatoreporte_close').click(function(){
                $('#formatoreporte').modal('hide');
            });

            openwindow_reporte = function (url, width, height) {
                newwindow = window.open(url, 'name', 'height='+height+' ,width='+width);
            };

            openwindow = function(verb, url, data, target) {
                var form = document.createElement("form");
                form.action = url;
                form.method = verb;
                form.target = target || "_self";
                if (data) {
                    for (var key in data) {
                        var input = document.createElement("textarea");
                        input.name = key;
                        input.value = typeof data[key] === "object" ? JSON.stringify(data[key]) : data[key];
                        form.appendChild(input);
                    }
                }
                form.style.display = 'none';
                document.body.appendChild(form);
                form.submit();
            };

            ejecutar_reporte_directo = function(ruta) {
                var href = ruta;
                $('#formatoreporte').modal('hide');
                var formato = parseInt($('#formatoreporte_formato').val());
                var formato_final = '';
                if (formato === 0) {
                    formato_final = '&rt=pdf';
                }else if (formato === 1) {
                    formato_final = '&rt=docx';
                }else if (formato === 2){
                    formato_final = '&rt=xlsx';
                }else if (formato === 3){
                    formato_final = '&rt=csv';
                }
                bloqueointerface();
                var report_url = href + formato_final;
                $.ajax({
                    type: "GET",
                    url: report_url,
                    success: function(data) {
                        desbloqueointerface();
                        if (data.result === 'ok') {
                            if(formato === 0 ){
                                openwindow_reporte(location.origin + data.reportfile, 800, 500);
                            }else{
                                location.href = location.origin + data.reportfile;
                            }
                        } else {
                            smoke.alert("Error al generar el reporte.");
                        }
                    },
                    error: function() {
                        desbloqueointerface();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "json"
                });
            };

            ejecutar_reporte = function() {
                var href = $(this).attr('nhref');
                $('#formatoreporte').modal('hide');
                var formato = parseInt($('#formatoreporte_formato').val());
                var formato_final = '';
                if (formato === 0) {
                    formato_final = '&rt=pdf';
                }else if (formato === 1) {
                    formato_final = '&rt=docx';
                }else if (formato === 2){
                    formato_final = '&rt=xlsx';
                }else if (formato === 3){
                    formato_final = '&rt=csv';
                }
                bloqueointerface();
                var report_url = href + formato_final;
                $.ajax({
                    type: "GET",
                    url: report_url,
                    success: function(data) {
                        desbloqueointerface();
                        if (data.result === 'ok') {
                            if(formato === 0 ){
                                openwindow_reporte(location.origin + data.reportfile, 800, 500);
                            }else{
                                location.href = location.origin + data.reportfile;
                            }
                        } else {
                            smoke.alert("Error al generar el reporte.");
                        }
                    },
                    error: function() {
                        desbloqueointerface();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "json"
                });
            };

            conectar_confirmacion = function(){
                var href = $(this).attr('nhref');
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: href,
                    success: function(data) {
                        desbloqueointerface();
                        if (data.search('"'+'ajaxconfirmaciondinamicbs'+'"') >= 0){
                            var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
                            $("#confirmacionmodaldinamico").html(data);
                            if (w > 650){
                                $('#confirmacionmodaldinamico').modal({'width': '650'}).modal('show');
                            } else {
                                $('#confirmacionmodaldinamico').modal({'width': w}).modal('show');
                            }

                        } else {
                            smoke.alert("Error de conexión.");
                        }
                    },
                    error: function() {
                        desbloqueointerface();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "html"
                });
            };

            conectar_modal_firma_dinamico = function(){
                var href = $(this).attr('nhref');
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: href,
                    success: function(data) {
                        desbloqueointerface();
                        if (data.search('"'+'modal_firmar_dinamico'+'"') >= 0){
                            var widthform = 840;
                            var margenleft = 0;
                            var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
                            var modalwidth = parseInt($(data).filter("#modal_firmar_dinamico").attr('nwidth'));
                                if (modalwidth > w){
                                    modalwidth = w;
                                    margenleft = 0;
                                } else {
                                    margenleft = parseInt((w - modalwidth) / 2);
                                }

                             $('#modal_firmar_dinamico').modal({keyboard: false, backdrop: 'static',width: widthform});
                                $("#modal_firmar_dinamico").html(data);
                            $(".modal-scrollable").css({ 'overflow-y': 'visible'})
                            $('#modal_firmar_dinamico').modal('show');


                        } else {
                            smoke.alert("Error de conexión 1.");
                        }
                    },
                    error: function() {
                        desbloqueointerface();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "html"
                });
            };
            $('.firmardocumento').bind('click.conectar_modal_firma_dinamico', conectar_modal_firma_dinamico);

            conectar_modal_visor = function(){
                var href = $(this).attr('nhref');
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: href,
                    success: function(data) {
                        desbloqueointerface();
                        if (data.search('"'+'modal_visor'+'"') >= 0){
                            var widthform = 840;
                            var margenleft = 0;
                            var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
                            var modalwidth = parseInt($(data).filter("#modal_visor").attr('nwidth'));
                                if (modalwidth > w){
                                    modalwidth = w;
                                    margenleft = 0;
                                } else {
                                    margenleft = parseInt((w - modalwidth) / 2);
                                }

                             $('#modal_visor_documento').modal({keyboard: false, backdrop: 'static',width: widthform});
                                $("#modal_visor_documento").html(data);
                            $(".modal-scrollable").css({ 'overflow-y': 'visible'})
                            $('#modal_visor_documento').modal('show');


                        } else {
                            smoke.alert("Error de conexión.");
                        }
                    },
                    error: function() {
                        desbloqueointerface();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "html"
                });
            };

             $('.visor').bind('click.conectar_modal_visor', conectar_modal_visor);

             conectar_modificar_record_unae = function(){
                var href = $(this).attr('nhref');
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: href,
                    success: function(data) {
                        desbloqueointerface();
                        if (data.search('"'+'ajaxmodificarrecordunae'+'"') >= 0){
                            $("#modificarrecordmodal").html(data);
                            var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
                            if (w > 650){
                                $('#modificarrecordmodal').modal({'width':'650px'}).modal('show');
                            } else {
                                $('#modificarrecordmodal').modal({'width': w+'px'}).modal('show');
                            }

                        } else {
                            smoke.alert("Error de conexión.");
                        }
                    },
                    error: function() {
                        desbloqueointerface();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "html"
                });
            };

            conectar_eliminacion = function(){
                var href = $(this).attr('nhref');
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: href,
                    success: function(data) {
                        desbloqueointerface();
                        if (data.search('"'+'ajaxdeletedinamicbs'+'"') >= 0){
                            $("#eliminacionmodaldinamico").html(data);
                            var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
                            if (w > 650){
                                $('#eliminacionmodaldinamico').modal({'width':'650px'}).searchinput('show');
                            } else {
                                $('#eliminacionmodaldinamico').modal({'width': w+'px'}).modal('show');
                            }

                        } else {
                            smoke.alert("Error de conexión.");
                        }
                    },
                    error: function() {
                        desbloqueointerface();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "html"
                });
            };

            conectar_formulario = function(){
                var control = $(this);
                var widthform = 850;
                var margenleft = 0;
                var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
                var href = control.attr('nhref');
                if (href.contains('?')) {
                    href += '&screenwidth=' + w + '&modal=1';
                } else {
                    href += '?screenwidth=' + w + '&modal=1';
                }
                //console.log(href)
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: href,
                    success: function(data) {
                        desbloqueointerface();
                        if ($('#formbs').length > 0) {
                            smoke.alert("ya existe activo un formulario.");
                        } else {
                            if (data.search('"'+'ajaxformdinamicbs'+'"') >= 0){
                                var modalwidth = parseInt($(data).filter("#ajaxformdinamicbs").attr('nwidth'));
                                if (modalwidth > w){
                                    modalwidth = w;
                                    margenleft = 0;
                                } else {
                                    margenleft = parseInt((w - modalwidth) / 2);
                                }
                                $('#formulariomodaldinamico').modal({keyboard: false, backdrop: 'static', width: modalwidth});
                                $("#formulariomodaldinamico").html(data);
                                $(".select2-container--default").css({'width': '100%'});
                                $(".modal-scrollable").css({'width': (modalwidth + 30) + 'px', 'margin-left': margenleft + 'px', 'overflow-y': 'visible'})
                                $('#formulariomodaldinamico').modal('show');

                            } else {
                                smoke.alert("Error de conexión.");
                            }
                        }
                    },
                    error: function() {
                        desbloqueointerface();
                        smoke.alert("Error de conexión.");
                    },
                    dataType: "html"
                });
            };

            conectar_mensaje = function(){
                var href = $(this).attr('nhref');
                bloqueointerface();
                $.ajax({
                    type: "GET",
                    url: '/api',
                    data: {'a': 'mensaje', 'ids': href},
                    success: function(data) {
                        desbloqueointerface();
                        if (data.search('"'+'ajaxmensajedinamicbs'+'"') >= 0){
                            $("#mensajemodaldinamico").html(data);
                            $('#mensajemodaldinamico').modal({'width':'800'}).modal('show');
                        } else {
                            mensajes("Error de conexión.", "Error");
                        }
                    },
                    error: function() {
                        desbloqueointerface();
                        mensajes("Error de conexión.", "Error");
                    },
                    dataType: "html"
                });
            };

            {% if mensj or info %}
                smoke.alert('{{ mensj }}{{ info }}');
            {% endif %}

            conectar_controles_basicos = function () {
                $('.reportedirecto').unbind('click.conectar_reportes');
                $('.reportedirecto').bind('click.conectar_reportes', conectar_reportes);
                $('.confirmacionmodal').unbind('click.conectar_confirmacion');
                $('.confirmacionmodal').bind('click.conectar_confirmacion', conectar_confirmacion);
                $('.eliminacionmodal').unbind('click.conectar_eliminacion');
                $('.eliminacionmodal').bind('click.conectar_eliminacion', conectar_eliminacion);
                $('.formulariomodal').unbind('click.conectar_formulario');
                $('.formulariomodal').bind('click.conectar_formulario', conectar_formulario);
                $('.mensajecorreomodal').unbind('click.conectar_mensajes');
                $('.mensajecorreomodal').bind('click.conectar_mensajes', conectar_mensaje);
                $("#formatoreporte_run").unbind("click.ejecutar_reporte");
                $("#formatoreporte_run").bind("click.ejecutar_reporte", ejecutar_reporte);
            };
            $('.modificarrecordmodal').bind('click.conectar_modificar_record_unae', conectar_modificar_record_unae);

            conectar_controles_basicos();

            conectar_reportes_interface = function(){
                $('.reportedirecto').unbind('click.conectar_reportes');
                $('.reportedirecto').bind('click.conectar_reportes', conectar_reportes);
            };

            tooltips();

            history.pushState(null, null, location.href);
            window.addEventListener('popstate', function(event) {
                history.pushState(null, null, location.href);
            });

            actualizarnumerico = function(){
                $('.imp-number[decimales], .imp-moneda[decimales], .imp-numbersmall[decimales], .imp-numbermed-right[decimales], .imp-numbermed-center[decimales], .nota[decimales]').each(function(){
                    numerico($(this), 0, 0, $(this).attr('decimales'));
                })
            };

            foconumerico = function () {
                $('.imp-number, .imp-moneda, .imp-numbersmall, .imp-numbermed-right, .imp-numbermed-center, .nota').focus(function(){
                    if (!parseFloat($(this).val())){
                        $(this).val("");
                    }
                });
            };

            $(document).ready(function(){
                actualizarnumerico();
                foconumerico();

                multiselect_validation = function () {
                    $(".custom-multiselect").find('input').unbind();
                    $(".custom-multiselect").find('input').bind("click", function () {
                        cantidad = $('input:checked[name='+$(this).attr('name')+']').length;
                        $("#id_"+$(this).attr('name')+"_control").val((cantidad?"1":"")).attr({'value':(cantidad?"1":"")});
                    });
                    $(".inputmultiselect").each(function () {
                        var cantidad = $('input:checked[name='+$(this).attr('basename')+']').length;
                        $(this).val((cantidad?"1":"")).attr({'value':(cantidad?"1":"")});
                    });
                };

                multiselect_validation();
            });

            $('.selectorfecha').keypress(function(){
                return false;
            });

            redondear = function (valor, lugares) {
                return parseFloat(Big(valor).toFixed(lugares));
            };

            logoutajax =  function () {
                $.ajax({
                    type: "POST",
                    url: "/logout",
                    success: function(data) {
                        if (data.result === 'ok') {
                            localStorage.removeItem('sessionid');
                            sessionid = null;
                            window.name = '';
                            location.href = "/";
                            sysend.broadcast('', {message: 'exit'});
                        } else {
                            sleep(5000);
                            logoutajax()
                        }
                    },
                    error: function() {
                        sleep(5000);
                        logoutajax();
                    },
                    dataType: "json"
                });
            };

            logoutcomplet = function () {
                bloqueointerface();
                logoutajax();
            };

            logoutsimple = function () {
                bloqueointerface();
                localStorage.removeItem('sessionid');
                sessionid = null;
                window.name = '';
                location.href = "/";
            };

            logout = function(){
                if (window.name && sessionid && window.name === sessionid) {
                    logoutcomplet();
                }
            };

            sysend.on('', function(obj) {
                if (obj.message === 'check'){
                    if (window.name && sessionid && window.name === sessionid) {
                        sysend.broadcast('', {message: 'set', token: window.name});
                    }
                }
                if (obj.message === 'exit'){
                    bloqueointerface();
                    localStorage.removeItem('sessionid');
                    sessionid = null;
                    window.name = '';
                    location.href = '/';
                }
                if (obj.message === 'reload'){
                    bloqueointerface();
                    window.name = obj.token;
                    localStorage.setItem('sessionid', obj.token);
                    location.href = '/';
                }
                if (obj.message === 'refresh'){
                    location.href = location.pathname;
                }
                if (obj.message === 'set'){
                    clearInterval(logouttimer);
                    if (window.name === '') {
                        desbloqueointerface();
                        window.name = obj.token;
                        localStorage.setItem('sessionid', obj.token);
                        sessionid = obj.token;
                    }
                }
                if (obj.message === 'inicio'){
                    loginfow(obj.token);
                }
            });

            try {
                sessionid = localStorage.getItem('sessionid');
            } catch (err) {
                console.log(err.message);
            }
            {% if not especial %}
                if (sessionid !== null){
                    if (window.name === ''){
                        bloqueointerface();
                        sysend.broadcast('', {message: 'check'});
                        logouttimer = setInterval(logoutcomplet,1000);
                    } else {
                        desbloqueointerface();
                    }
                } else {
                    if (window.name === ''){
                        if (location.pathname !== '/login') {
                            bloqueointerface();
                            sysend.broadcast('', {message: 'check'});
                            logouttimer = setInterval(logoutcomplet,1000);
                        }
                    }
                }

            {% endif %}
        });

        $(function () {
            rezisewindows = function () {
                var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
                {% if persona %}
                    {% if not alertanoticias %}
                        if (w < 1360) {
                            $("#canvascontent").css({'width': '1366px'});
                            $(".responsive").css({'width': '1300px'});
                        } else {
                            $("#canvascontent").css({'width': '100%'});
                            $(".responsive").css({'width': '100%'});
                        }
                    {% else %}
                        $("#canvascontent").css({'width': '100%'});
                    {% endif %}
                {% endif %}
            };

            window.onresize = function(event) {
                rezisewindows();
            };

            actualiza_path = function () {
                $(".cambiac").each(function () {
                    var elemento = $(this);
                    var hr = elemento.attr('nhref');
                    elemento.attr({'nhref': hr+"?path="+location.pathname});
                });
            };

            actualiza_path();
            rezisewindows();
        });
    </script>
    {% block heading %}
    {% endblock %}
</head>
<body data-spy="scroll" data-target=".subnav" data-offset="50" {% if not persona or especial %}class='{% block contentextraclass %}{% endblock %}{% endif %}'>
<div id="nav-header" class="navbar navbar-fixed-top">
    <div>
        <div class="container-fluid">
            <ul class='nav'>
                <li>
                    <a href="/" class="hidden-phone hidden-tablet visible-desktop"  style="padding: 7px">
                        <img style="height: 25px" src='/static/images/aok/logo.png?v1.0.6'/>
                    </a>
                    <a href="/" class="visible-phone visible-tablet hidden-desktop" style="padding: 7px">
                        <img style="height: 25px" src='/static/images/aok/logo.png?v1.0.6'/>
                    </a>
                </li>
            </ul>
            {% if not request.user.is_anonymous %}
                <div class="pull-right">
                    <ul class='nav'>
                        <li><a href="javascript:;" nhref="/cudu" class="formulariomodal"><i class="icon-group"></i><t style="float: right; margin-left: 5px" class="hidden-phone visible-desktop">{{ persona.nombre_completo_simple }}</t></a></li>
                        {% if persona.tiene_mensajes %}<li id="checkmailicon"><a href="/mailbox"><img src='/static/images/iconos/mail.png' border=0 class="blinkimg"></a></li>{% endif %}
                        {% if perfilprincipal.es_administrativo %}
                            {% if persona.administrativo.tiene_escalados %}
                                <li id="soporteicon"><a href="/adm_escalados"><img src='/static/images/iconos/soporte.png' border=0 class="blinkimg"></a></li>
                            {% endif %}
                        {% endif %}
                        <li><a href="javascript:;" nhref="/account" class="formulariomodal"><i class="icon-user"></i> <t style="float: right; margin-left: 5px" class="hidden-phone visible-desktop">Cuenta</t></a></li>
                        <li><a class="formulariomodal" href="javascript:;" nhref="/pass?modal=true"><i class="icon-key"></i> <t style="float: right; margin-left: 5px" class="hidden-phone visible-desktop">Clave</t></a></li>
                        {% if persona.usuario.is_superuser %}
                            <li><a href='/admin' target="_blank"><i class="icon-wrench"></i> <t style="float: right; margin-left: 5px" class="hidden-phone visible-desktop">Administraci&oacute;n</t></a></li>
                        {% endif %}
                        <li><a href="javascript:;" onclick="logoutcomplet()"><i class="icon-off"></i> <t style="float: right; margin-left: 5px" class="hidden-phone visible-desktop">Salir</t></a></li>
                        <li class="divider-vertical"></li>
                        {% if not perfilprincipal.es_estudiante and not perfilprincipal.es_profesor %}
                            <li><a href="javascript:;" nhref="/cambiocoordinacion" class="cambiac formulariomodal"><i class="icon-list"></i><t style="float: right; margin-left: 5px" class="hidden-phone visible-desktop">{{ coordinacionseleccionada.alias }}</t></a></li>
                        {% endif %}
                        {% if not perfilprincipal.es_empleador %}
                            {% if not perfilprincipal.es_estudiante  %}
                                <li><a href="javascript:;" nhref="/cambioperiodo" class="cambiac formulariomodal"><i class="icon-list"></i><t style="float: right; margin-left: 5px" class="hidden-phone visible-desktop">{{ periodo.tipo }} {{ periodo.nombre }}</t></a></li>
                            {% else %}
                                <li><a href="javascript:;"><i class="icon-list"></i><t style="float: right; margin-left: 5px" class="hidden-phone visible-desktop">{{ periodo.tipo }} {{ periodo.nombre }}</t></a></li>
                            {% endif %}
                        {% endif %}
                        <li><a href="javascript:;" style="font-size: 20px;" class="visible-desktop hidden-phone" id="clock"></a></li>
                    </ul>
                </div>
            {% endif %}
        </div>
    </div>
</div>
<div id="content">
    <div class='container{% block containertype %}-fluid{% endblock %}'>
        {% if ruta %}
            <div class="row-fluid">
                <div class="span12">
                    <ul class="breadcrumb">
                        {% for r in ruta %}
                            <li><t {% if not forloop.first %}class="hidden-phone hidden-tablet visible-desktop"{% endif %}><a href="{{ r.0 }}">{{ r.1 }}</a> <span class="divider">/</span></t></li>
                        {% endfor %}
                        <a style="float: right;" href="{% if ret %}{{ ret }}{% else %}{% block atras %}/{% endblock %}{% endif %}" class='btn btn-mini urlatrasbutton' id="urlatrasbutton"><i class="icon-arrow-left"></i> Atr&aacute;s</a>
                    </ul>
                </div>
            </div>
        {% endif %}
        {% block headcanvas %}
        {% endblock %}
        {% if not alertanoticias %}
            <div style="width: 100%; overflow: auto; min-height: 800px" >
            <div style="width: 100%;" id="canvascontent">
        {% endif %}
        {% block canvas %}
        {% endblock %}
        {% if not alertanoticias %}
            </div>
            </div>
        {% endif %}
    </div>
</div>
{% if not request.user.is_anonymous %}
    <div style="width: 300px; height: 250px; background-color: lightgray; position: fixed; bottom: 10px; display: none; border-top-left-radius: 3px; border-top-right-radius: 3px" id="chatwindows">
        <div id="chatwindowssolicitud" style="width: 100%; height: 100%;">
            <select id="tiposolicitudchat" style="width: 293px; margin: 3px">
                {% for tiposolicitud in tipossolicitudessoporte %}
                    <option value="{{ tiposolicitud.id }}">{{ tiposolicitud }}</option>
                {% endfor %}
            </select>
            <textarea rows="5" style="width: 293px; height: 138px; margin: 3px" id="descripcionsolicitudchat" placeholder="Ingrese su requerimiento."></textarea>
            <a class="btn btn-primary" style="margin-top: 3px; margin-left: 90px" id="solicitudsoporte"><i class="icon-comment"></i> Solicitar soporte</a>
        </div>
        <div id="chatwindowsmensaje" style="width: 100%; height: 100%; padding: 3px">
            <div style="width: 294px; height: 177px; background-color: white; margin-bottom: 3px; overflow: scroll" id="chatmessajes">
                {% for mensaje in solicitud_soporte_pendiente.mis_mensajes %}
                    {% if mensaje.personalsoporte %}
                        <div class="alert alert-success" style="width: 75%; float: right; margin-bottom: 3px">
                            {% autoescape on %}
                                {{ mensaje.personalsoporte.administrativo.persona.usuario }}: {{ mensaje.descripcion|safe|urlize }}
                            {% endautoescape %}
                        </div>
                    {% else %}
                        <div class="alert alert-info" style="width: 75%; float: left; margin-bottom: 3px">
                            {% autoescape on %}
                                {{ mensaje.descripcion|safe|urlize }}
                            {% endautoescape %}
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            <div style="width: 294px; height: 40px; background-color: transparent">
                <textarea style="width: 230px; height: 33px; line-height: 12px" id="textchatmensaje"></textarea>
                <a class="btn btn-success" id="sendchatmensaje">Enviar</a>
            </div>
        </div>
        <div id="chatwindowsnumero" style="width: 100%; height: 100%; text-align: center; vertical-align: middle">
            <p style="margin-top: 90px">Su solicitud de soporte se encuentra en el turno: <br><span class="badge badge-warning" id="numerosoporte">{% if solicitud_soporte_pendiente %}{{ solicitud_soporte_pendiente.numero }}{% else %}0{% endif %}</span></p>
            <a class="btn btn-mini btn-success" id="cancelarsoporte">Cancelar soporte</a>
        </div>
    </div>
    <div id="nav-footer" class='navbar navbar-fixed-bottom'>
        {% block footerextra %}
        {% endblock %}
        <div class="container-fluid">
            <div class='row-fluid' style="margin-bottom: 0">
                <div class="span12">
                    {% if archivoayuda %}
                        <div style="float: left; width: 25px ;height: 25px; background-color: transparent; margin-top: 5px">
                            <a href="{{ archivoayuda.archivo.url }}" target="_blank"><img src='/static/images/iconos/help.png'/></a>
                        </div>
                    {% endif %}
                    {% if soporte %}
                        <div style="float: left; width: 32px ;height: 32px; background-color: transparent">
                            <a href="javascript:;" id="chat" visible="no"><img src='/static/images/iconos/chat.png'/></a>
                        </div>
                    {% endif %}
                    <div class="smaller">
                        <div style="text-align: left; float: left; margin-left: 5px">
                            <div style="margin-bottom: -5px">Sistema de Gesti&oacute;n Acad&eacute;mica, {{ institucion }}</div>
                            <div>Todos los derechos reservados(c) 2012{% if remoteaddr %}, Acceso al sistema desde - {{ remoteaddr }}{% endif %}</div>
                        </div>
                        {% if pie_pagina_creative_common_licence %}
                            <div style="text-align: right; float: right" class="hidden-phone hidden-tablet visible-desktop">
                                <div style="margin-bottom: -5px"><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img width="70" alt="Licencia Creative Commons" style="border-width:0" src="/static/images/cc.png" /></a></div>
                                <div>Esta obra está bajo una <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">Licencia Creative Commons Atribución-NoComercial 4.0 Internacional</a></div>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endif %}
<div class="modal fade static" id="waitpanel" style="display: none;">
    <div class="modal-header">
        <h4 id="waitpaneltitle"></h4>
    </div>
    <div class="modal-body">
        <p id="waitpanelbody"></p>
    </div>
</div>
<div id="throbber" style="display:none; margin: 0 auto; width: 60px; height: 60px; background-color: #ffffff">
    <img src="/static/images/ajax-document-loader.gif" />
</div>
<div class="modal fade static" id="formatoreporte" style="display: none;">
    <div class="modal-header">
        <h4 id="paneltitle">Formato de reporte</h4>
    </div>
    <div class="modal-body">
        <select style="width: 100%;" id="formatoreporte_formato">
            <option id="formatopdf" value="0">PORTABLE DOCUMENT FORMAT (PDF)</option>
            <option id="formatodoc" value="1">MICROSOFT WORD (DOCX)</option>
            <option id="formatoxls" value="2">MICROSOFT EXCEL (XLXS)</option>
            <option id="formatocsv" value="3">COMMA-SEPARATED VALUES (CSV)</option>
        </select>
    </div>
    <div class="modal-footer">
        <a href="javascript:;" id="formatoreporte_run" class="btn btn-success">Ejecutar</a>
        <a href="javascript:;" id="formatoreporte_close" class="btn btn-info">Cerrar</a>
    </div>
</div>
<div class="modal fade static" id="ficheromodal" style="display: none;">
    <div class="modal-header">
        <h4>Descargar archivo</h4>
    </div>
    <div class="modal-body" style="text-align: center; min-height: 30px">
        <div style="width: 40px; float: left"><a id='enlacefichero' href="javascript:;" target="_blank" class="btn btn-success btn-mini tu" title="Descargar"><i class="icon-arrow-down"></i></a></div>
        <div style="float: left"><p id='enlaceficheronombre' ></p></div>
    </div>
    <div class="modal-footer">
        <a href="javascript:;" class="btn btn-cerrar btn-info">Cerrar</a>
    </div>
</div>
<div class="modal fade static" id="confirmacionmodaldinamico" style="display: none;"></div>
<div class="modal fade static" id="eliminacionmodaldinamico" style="display: none;"></div>
<div class="modal fade static" id="formulariomodaldinamico" style="display: none;"></div>
<div class="modal fade static" id="mensajemodaldinamico" style="display: none;"></div>
<div class="modal fade static" id="modificarrecordmodal" style="display: none;"></div>
<div class="modal fade static" id="modal_firmar_dinamico" style="display: none;"></div>
<div class="modal fade static" id="modal_visor_documento" style="display: none;"></div>

<div class="modal fade static" id="infomodaldinamico" style="display: none;">
    <div id="ajaxconfirmaciondinamicbs"></div>
    <div class="modal-header"><h4>Información</h4></div>
    <div class="modal-body" id="infomodaldinamico_body" style="min-height: 60px">
    </div>
    <div class="modal-footer">
        <p style="text-align: right; margin-bottom: 0">
            <a href="javascript:;" id="infomodaldinamico_cancel" class="btn btn-info"> Cerrar</a>
        </p>
    </div>
</div>
{% block moreblock %}
{% endblock %}
</body>
</html>